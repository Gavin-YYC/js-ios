<!Doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
</head>
<body>
<h1>WebViewJavascriptBridge Demo</h1>
<button id="getData">获取数据</button>
<button id="sendData">发送数据</button>
<div id="logLine"></div>
<script src="./WebViewJavascriptBridge.js" charset="utf-8"></script>
<script>
window.onload = function(){
  var oBtn = document.querySelector('#getData');
  var oSend = document.querySelector('#sendData');
  var oLog = document.querySelector('#logLine');
  var data = {
    name: 'Gavin',
    send: 'h5'
  };
  // 接收数据
  oBtn.addEventListener('click', function ( e ) {
    e.preventDefault();
    WebViewBridge.receive(function ( data ) {
      console.log("H5接收数据成功！");
      oLog.innerHTML = JSON.stringify( data );
    });
  })
  // 发送数据
  oSend.addEventListener('click', function ( e ) {
    e.preventDefault();
    WebViewBridge.send( data, function ( res ) {
      console.log("H5发送数据成功！");
      oLog.innerHTML = JSON.stringify( res );
    })
  })
}
</script>
</body></html>
